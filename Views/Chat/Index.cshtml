@model List<TextCommunicator.Controllers.ChatController.UserListItem>
@{
    ViewData["Title"] = "Czat";
}

<div class="card">
    <h2>Wybierz użytkownika (czat prywatny)</h2>

    <div class="form-group">
        <input id="searchUsersChat" class="form-control" placeholder="Szukaj..." autocomplete="off" />
    </div>


    @if (!Model.Any())
    {
        <p class="muted">Brak innych użytkowników (zarejestruj drugie konto).</p>
    }
    else
    {
        <ul class="list" id="listUsersChat">
            @foreach (var u in Model)
            {
                <li class="list-item">
                    <span>@u.UserName</span>
                    <a class="btn btn-secondary" asp-action="With" asp-route-id="@u.Id">Otwórz</a>
                </li>
            }
        </ul>
    }
</div>


@section Scripts {
    <script>
        tcWireSearch("searchUsersChat", "#listUsersChat", ".list-item", "span");
    </script>
}
